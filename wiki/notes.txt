Building a wiki:
Part 1: Simplest possible wiki: Simple UI, file store, anyone can edit, everything overwrites (165 lines):
-Node web server
-HTML form
-View/Edit modes
-File store
-Parse wiki syntax to HTML (links etc)
-Basic preview

Setup:
Install Node.js
https://github.com/joyent/node/wiki/Installation

//install latest stable node, not old-timey Ubuntu node:
sudo apt-get update
sudo apt-get install -y python-software-properties python g++ make
sudo add-apt-repository ppa:chris-lea/node.js
sudo apt-get update
sudo apt-get install nodejs

Get express, whiskers, marked
$ npm install --save express
$ npm install --save whiskers
$ npm install --save marked

Create an empty folder for writing the wiki files to.

$ cd wiki/simple_wiki/
$ mkdir files/

Run the server with npm start.  Visit the wiki at http://localhost:8080/wiki/



Part 2: Full wiki with optional CouchDB or file store, local Passport authentication, conflict resolution (473 lines):

-Add new CouchDB store option
-Comments, timestamps
-Conflict resolution

Install CouchDB
http://docs.couchdb.org/en/latest/install/index.html (using current stable v.1.4.0 built from source)

Set up CouchDB
$couchdb
Apache CouchDB has started. Time to relax.
http://127.0.0.1:5984/ -> {"couchdb":"Welcome","uuid":"7655135bcbde8c09488df4b9d285a0a5","version":"1.4.0","vendor":{"version":"1.4.0","name":"The Apache Software Foundation"}}
Create new db called wiki:
curl -X PUT http://127.0.0.1:5984/wiki -> {"ok":true}
http://127.0.0.1:5984/wiki -> {"db_name":"wiki","doc_count":0,"doc_del_count":0,"update_seq":0,"purge_seq":0,"compact_running":false,"disk_size":79,"data_size":0,"instance_start_time":"1392495940793175","disk_format_version":6,"committed_update_seq":0}

$ npm install --save request
$ npm install --save dateformat

Use Passport for local authentication
$ npm install --save passport
$ npm install --save passport-local

Use CouchDB's existing user table to store users or write user records to disk

Fancy diff/merge:
$ npm install --save diff

Password hash for file store:
$ npm install --save password-hash

Configure the wiki in config.js, specifying either file store options or database store options.
Run the server with npm start.  Visit the wiki at http://localhost:8080/wiki/. Use the signup button to create a new user and log in.
